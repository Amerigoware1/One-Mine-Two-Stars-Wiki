<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gallery ‚Äì One Mine Two Stars Wiki</title>
  <link rel="icon" type="image/png" href="assets/images/favicon.png">
  <link rel="stylesheet" href="WikiStyle.css">

  <!-- PhotoSwipe CSS -->
<link rel="stylesheet" href="photoswipe.css">

  <style>
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin-top: 1.5rem;
    }
    @media (min-width: 768px) { .gallery-grid { grid-template-columns: repeat(3, 1fr); } }
    @media (min-width: 1024px) { .gallery-grid { grid-template-columns: repeat(4, 1fr); } }

    .card-bg {
      background: #0a0022;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      text-align: center;
      padding: 0.5rem;
       cursor: pointer;
  transition: box-shadow 0.2s;
    }
    .card-bg:hover {
  box-shadow: 0 6px 12px rgba(0,0,0,0.4);
}
    .card-bg img {
      width: 100%;
      height: 180px;
      object-fit: cover;
      border-radius: 4px;
    }
    .card-caption {
      margin-top: 0.5rem;
      font-size: 0.85rem;
      color: #ddd;
    }
  </style>
</head>
<body class="p-4">
  <div class="top-banner">
    <a href="index.html" class="home-button">üè† Home</a>
  </div>

  <div class="card-bg">
    <h1>Gallery</h1>
    A collection of artifacts, environments, and curiosities from <em>One Mine Two Stars</em>.
  </div>

  <!-- Gallery will be inserted here -->
  <div id="gallery" class="gallery-grid"></div>

  <!-- Footer -->
  <div id="footer">
    <p>Back to <a href="index.html">Home</a></p>
    <p>&copy; One Mine Two Stars Wiki</p>
  </div>

  <!-- Return to Top -->
  <button id="toTopBtn" style="display:none; position:fixed; bottom:20px; right:20px;">‚¨ÜÔ∏è Top</button>

  <!-- PhotoSwipe Root Element (required) -->
  <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>
    <div class="pswp__scroll-wrap">
      <div class="pswp__container">
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
        <div class="pswp__item"></div>
      </div>
      <div class="pswp__ui pswp__ui--hidden">
        <div class="pswp__top-bar">
          <div class="pswp__counter"></div>
          <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
          <button class="pswp__button pswp__button--zoom" title="Zoom"></button>
        </div>
        <div class="pswp__caption"><div class="pswp__caption__center"></div></div>
      </div>
    </div>
  </div>

<script src="photoswipe.umd.min.js"></script>
<script src="photoswipe-lightbox.umd.min.js"></script>
<script>
  const galleryItems = [
    { src: "Celectra-Pregnant.png", caption: "Celectra while pregnant (age 22)" },
    { src: "celectra-cabinet.png", caption: "Celectra‚Äôs illuminated cabinet of Galinstanian leavings" },
    { src: "ANI.png", caption: "Artificial Neural Interface" },
    { src: "Cave.jpg", caption: "Entrance to the deep caves explored over fourteen years..." },
    { src: "Gazing through port hole.jpg", caption: "Livingroom on the space station Utopis (Book 1)" },
    { src: "Carisco Family.jpg", caption: "Carisco Family (Book 2)" },
    { src: "Galinstanian.jpg", caption: "Galinstanian" },
    { src: "Listener Corps.png", caption: "Listener Corps" }
  ];

  const basePath = "assets/images/";
  const galleryEl = document.getElementById("gallery");

  // Generate gallery cards
  galleryItems.forEach((item, index) => {
    const card = document.createElement("div");
    card.className = "card-bg";
    card.innerHTML = `
      <img src="${basePath}${item.src}" alt="${item.caption}" loading="lazy">
      <div class="card-caption">${item.caption}</div>
    `;
    card.addEventListener("click", (e) => {
      e.preventDefault();
      openLightbox(index);
    });
    galleryEl.appendChild(card);
  });

  // Initialize PhotoSwipe Lightbox
  let lightbox;

  function openLightbox(index) {
    if (!lightbox) {
      lightbox = new PhotoSwipeLightbox({
        dataSource: galleryItems.map(item => ({
          src: basePath + item.src,
          caption: item.caption
        })),
        bgOpacity: 0.9,
        wheelToZoom: true,
        pinchToClose: true,
        initialZoomLevel: 'fit',
        secondaryZoomLevel: 2,
        maxZoomLevel: 3,
        pswpModule: () => import('https://cdn.jsdelivr.net/npm/photoswipe@5.4.4/dist/umd/photoswipe.umd.min.js')
      });
      lightbox.init();
    }

    lightbox.loadAndOpen(index);
  }

  // Return to top
  const toTopBtn = document.getElementById("toTopBtn");
  window.addEventListener("scroll", () => {
    toTopBtn.style.display = window.scrollY > 200 ? "block" : "none";
  });
  toTopBtn.onclick = () => window.scrollTo({ top: 0, behavior: "smooth" });
</script>
</body>
</html>
